(this.webpackJsonpbooknook=this.webpackJsonpbooknook||[]).push([[0],{12:function(e,t,s){},28:function(e,t,s){},29:function(e,t,s){},30:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s.n(c),r=s(5),a=s.n(r),o=(s(28),s(3)),i=(s(29),s(30),s(1));var l=function(){return Object(i.jsxs)("div",{className:"welcome",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"Welcome to Booknook!"}),Object(i.jsx)("p",{children:"Get book recommendations for dozens of subjects"})]}),Object(i.jsxs)("div",{className:"get-started",children:[Object(i.jsx)("p",{children:"Getting Started:"}),Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:"Type or scroll through the subjects list"}),Object(i.jsx)("li",{children:"Click 'Find Books' to get results"}),Object(i.jsx)("li",{children:"Click 'More Info' to see a book description and shopping link"})]})]}),Object(i.jsx)("div",{children:"To ensure fresh results, each selection is taken from a random sample of books tagged with that subject."})]})},j=s(4),d=s.n(j),u=s(8),b=(s(12),s(23));var h=function(e){var t=e.options,s=e.handleChange;return Object(i.jsx)(b.a,{className:"search-bar",menuPortalTarget:document.body,options:t,onChange:s})};var v=function(e){var t=e.message,s=e.className,c=e.onClick;return Object(i.jsx)("button",{className:s,onClick:c,children:t})},O=s(9),m=s.n(O);var x=function(e){var t=e.setResults,s={Fantasy:12442,"Science Fiction":15253,"Action & Adventure":1650,Mystery:4785,Horror:1775,Thriller:2059,"Historical Fiction":6844,Romance:19733,Magic:13930,"Graphic Novels":9748,"Short Story":1507,Juvenile:2369,Autobiography:2983,Biography:622100,Cooking:24697,Art:65208,"Self-help":3799,History:1639606,"True Crime":1138,Humor:20240,Essays:3603,Humanities:3560,Parenting:8174,Science:68592},n=Object(c.useState)(null),r=Object(o.a)(n,2),a=r[0],l=r[1],j=[];Object.keys(s).forEach((function(e){j.push({value:e.toLocaleLowerCase().replaceAll(" ","_"),label:e})}));var b=function(){var e=Object(u.a)(d.a.mark((function e(){var c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,m.a.get("/api/books",{params:{subject:a.value,amount:s[a.label]}});case 4:c=e.sent,n=c.data,t(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"search",children:[Object(i.jsxs)("div",{className:"search-bar-title",children:[Object(i.jsx)("h2",{children:"Select a Subject:"}),Object(i.jsx)(h,{options:j,handleChange:function(e){l(e)}})]}),Object(i.jsx)(v,{className:"search-button",message:"Find Books",onClick:b})]})},p=s.p+"static/media/default_book_cover.c095fa1f.jpeg";s(67);var k=function(e){var t=e.open,s=e.close,c=e.props;if(!t)return null;var n=c.title,r=c.author,a=c.cover,o=c.link,l=c.description;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"overlay",onClick:s}),Object(i.jsxs)("div",{className:"modal",children:[Object(i.jsx)("div",{className:"cover",children:Object(i.jsx)("img",{src:a,alt:"book cover",className:"cover__full"})}),Object(i.jsxs)("div",{className:"info",children:[Object(i.jsxs)("div",{className:"heading",children:[Object(i.jsx)("h2",{children:n}),Object(i.jsx)("h4",{children:r})]}),Object(i.jsx)("div",{children:l?Object(i.jsx)("p",{children:l}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"skeleton skeleton-text"}),Object(i.jsx)("div",{className:"skeleton skeleton-text"}),Object(i.jsx)("div",{className:"skeleton skeleton-text"}),Object(i.jsx)("div",{className:"skeleton skeleton-text"})]})}),Object(i.jsx)("a",{className:"shop-link",href:o,children:o?"Purchase":null}),Object(i.jsx)(v,{className:"close-modal",onClick:s,message:"\xd7"})]})]})]})};s(68);var f=function(e){var t=e.cover,s=e.title,n=e.author,r=e.id,a=(e.vendor,Object(c.useState)(!1)),l=Object(o.a)(a,2),j=l[0],b=l[1],h=Object(c.useState)({}),O=Object(o.a)(h,2),x=O[0],p=O[1],f=function(){var e=Object(u.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({author:n,title:s,cover:t}),b(!0),e.next=4,m.a.get("/api/book",{params:{id:r,title:s,author:n}});case 4:c=e.sent,p({author:n,title:s,cover:t,description:N(c.data.bookDetails),link:c.data.vendor});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){return e.description?e.description.value?e.description.value:e.description:"No Description Found"};return Object(i.jsxs)("div",{className:"card",children:[Object(i.jsx)("div",{className:"card__img-bg",children:Object(i.jsx)("img",{src:t,alt:"Cover for the book",className:"card__img"})}),Object(i.jsxs)("div",{className:"card__body",children:[Object(i.jsx)("h2",{className:"card__title",children:s}),Object(i.jsx)("h3",{className:"card__author",children:n})]}),Object(i.jsx)(v,{onClick:f,className:"card__button",message:"More Info"}),Object(i.jsx)(k,{props:x,open:j,close:function(){return b(!1)}})]})};var N=function(e){var t=e.results;return Object(i.jsx)("div",{className:"wrapper",children:t.map((function(e){return Object(i.jsx)(f,{id:e.key,cover:e.cover?e.cover:p,title:e.title,author:e.author,vendor:e.vendor},e.key)}))})};var g=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),s=t[0],n=t[1];return Object(i.jsxs)("div",{id:"app",children:[Object(i.jsxs)("div",{className:"intro",children:[Object(i.jsx)("h1",{className:"title",children:"Booknook"}),Object(i.jsx)(x,{setResults:n})]}),s?Object(i.jsx)(N,{results:s}):Object(i.jsx)(l,{})]})};a.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)("div",{className:"sapp",children:Object(i.jsx)(g,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.567e6d20.chunk.js.map