(this.webpackJsonpbooknook=this.webpackJsonpbooknook||[]).push([[0],{12:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c.n(s),r=c(5),n=c.n(r),i=(c(29),c(3)),o=(c(30),c(31),c(1));var l=function(){return Object(o.jsxs)("div",{className:"welcome",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"Welcome to Booknook!"}),Object(o.jsx)("p",{children:"Get book recommendations for dozens of subjects"})]}),Object(o.jsxs)("div",{className:"get-started",children:[Object(o.jsx)("p",{children:"Getting Started:"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Type or scroll through the subjects list"}),Object(o.jsx)("li",{children:"Click 'Find Books' to get results"}),Object(o.jsx)("li",{children:"Click 'More Info' to see a book description and shopping link"})]})]}),Object(o.jsx)("div",{children:"To ensure fresh results, each selection is taken from a random sample of books tagged with that subject."})]})},d=c(4),j=c.n(d),u=c(8),b=(c(12),c(24));var h=function(e){var t=e.options,c=e.handleChange;return Object(o.jsx)(b.a,{className:"search-bar",menuPortalTarget:document.body,options:t,onChange:c})};var v=function(e){var t=e.message,c=e.className,s=e.onClick;return Object(o.jsx)("button",{className:c,onClick:s,children:t})},m=c(9),O=c.n(m),x={Fantasy:12442,"Science Fiction":15253,"Action & Adventure":1650,Mystery:4785,Horror:1775,Thriller:2059,"Historical Fiction":6844,Romance:19733,Magic:13930,"Graphic Novels":9748,"Short Story":1507,Juvenile:2369,Autobiography:2983,Biography:622100,Cooking:24697,Art:65208,"Self-help":3799,History:1639606,"True Crime":1138,Humor:20240,Essays:3603,Humanities:3560,Parenting:8174,Science:68592};var p=function(e){var t=e.setResults,c=Object(s.useState)(null),a=Object(i.a)(c,2),r=a[0],n=a[1],l=[];Object.keys(x).forEach((function(e){l.push({value:e.toLocaleLowerCase().replaceAll(" ","_"),label:e})}));var d=function(){var e=Object(u.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,O.a.get("/api/books",{params:{subject:r.value,amount:x[r.label]}});case 4:c=e.sent,t(c.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"search",children:[Object(o.jsxs)("div",{className:"search-bar-title",children:[Object(o.jsx)("h2",{children:"Select a Subject:"}),Object(o.jsx)(h,{options:l,handleChange:function(e){n(e)}})]}),Object(o.jsx)(v,{className:"search-button",onClick:d,message:"Find Books"})]})},f=(c(68),c(69),c(23)),k=c.n(f);var N=function(e){var t=e.description;return Object(o.jsxs)("div",{className:"desc",children:[Object(o.jsx)("div",{className:"description__heading",children:Object(o.jsx)("h4",{children:"Description:"})}),Object(o.jsx)("div",{style:{display:"table"},children:t?Object(o.jsx)("div",{style:{display:"table-cell",verticalAlign:"middle"},children:Object(o.jsx)(k.a,{className:"description",rows:2,maxRows:15,readOnly:!0,value:t})}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"skeleton skeleton-text"}),Object(o.jsx)("div",{className:"skeleton skeleton-text"}),Object(o.jsx)("div",{className:"skeleton skeleton-text"}),Object(o.jsx)("div",{className:"skeleton skeleton-text"})]})})]})};var g=function(e){var t=e.open,c=e.close,s=e.props;if(!t)return null;var a=s.title,r=s.author,n=s.cover,i=s.link,l=s.description;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"overlay",onClick:c}),Object(o.jsxs)("div",{className:"modal",children:[Object(o.jsx)("div",{className:"cover",children:Object(o.jsx)("img",{src:n,alt:"book cover",className:"cover__full"})}),Object(o.jsxs)("div",{className:"info",children:[Object(o.jsxs)("div",{className:"heading",children:[Object(o.jsx)("h2",{className:"card__title",children:a}),Object(o.jsx)("h3",{className:"card__author",children:r})]}),Object(o.jsx)("div",{className:"modal-body",children:Object(o.jsx)(N,{description:l})}),Object(o.jsx)("div",{children:i?Object(o.jsx)("a",{className:"shop-link",title:i,href:i,target:"_blank",rel:"no noreferrer",children:"Purchase"}):null}),Object(o.jsx)(v,{className:"close-modal",onClick:c,message:"\xd7"})]})]})]})},y=(c(77),c.p+"static/media/default_book_cover.eca8f2f5.jpeg");var _=function(e){var t=e.cover,c=e.title,a=e.author,r=e.id,n=Object(s.useState)(!1),l=Object(i.a)(n,2),d=l[0],b=l[1],h=Object(s.useState)({}),m=Object(i.a)(h,2),x=m[0],p=m[1],f=Object(s.useState)(t),k=Object(i.a)(f,2),N=k[0],_=k[1],C=function(){var e=Object(u.a)(j.a.mark((function e(){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({author:a,title:c,cover:t||y}),b(!0),e.next=4,O.a.get("/api/book",{params:{id:r,title:c,author:a}});case 4:s=e.sent,p({author:a,title:c,cover:function(){return t||(s.data.cover?(_(s.data.cover),s.data.cover):y)}(),description:S(s.data.bookDetails),link:s.data.vendor});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();d?document.body.classList.add("active-modal"):document.body.classList.remove("active-modal");var S=function(e){return e.description?e.description.value?e.description.value:e.description:"No Description Found"};return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("div",{className:"card__img-bg",children:Object(o.jsx)("img",{src:N||y,alt:"Cover for the book",className:"card__img"})}),Object(o.jsxs)("div",{className:"card__body",children:[Object(o.jsx)("h2",{className:"card__title",children:c}),Object(o.jsx)("h3",{className:"card__author",children:a})]}),Object(o.jsx)(v,{onClick:C,className:"card__button",message:"More Info"}),Object(o.jsx)(g,{props:x,open:d,close:function(){return b(!1)}})]})};var C=function(e){var t=e.results;return Object(o.jsx)("div",{className:"wrapper",children:t.map((function(e){return Object(o.jsx)(_,{id:e.key,cover:e.cover,title:e.title,author:e.author},e.key)}))})};var S=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(o.jsxs)("div",{id:"app",children:[Object(o.jsxs)("div",{className:"intro",children:[Object(o.jsx)("h1",{className:"title",children:"Booknook"}),Object(o.jsx)(p,{setResults:a})]}),c?Object(o.jsx)(C,{results:c}):Object(o.jsx)(l,{})]})};n.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)("div",{children:Object(o.jsx)(S,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.383901e6.chunk.js.map