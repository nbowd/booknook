{"version":3,"sources":["components/Welcome.js","components/SearchBar.js","components/Button.js","assets/subjects.js","components/SearchControls.js","components/BookDescription.js","components/Modal.js","assets/default_book_cover.jpeg","components/Card.js","components/CreateCards.js","services/login.js","components/Notification.js","components/LoginModal.js","components/Login.js","App.js","index.js"],"names":["Welcome","className","SearchBar","options","handleChange","menuPortalTarget","document","body","onChange","Button","message","onClick","subjects","SearchControls","setResults","user","useState","selectedOption","setSelectedOption","Object","keys","forEach","subject","push","value","toLocaleLowerCase","replaceAll","label","handleSearch","a","axios","get","params","amount","response","data","handleSaved","id","option","BookDescription","description","style","display","verticalAlign","rows","maxRows","readOnly","Modal","open","close","props","title","author","cover","link","key","token","isSaved","results","saveBook","post","config","console","log","deleteBook","window","confirm","delete","filter","result","headers","Authorization","src","alt","href","target","rel","Card","isOpen","setIsOpen","ModalProps","setModalProps","currentCover","setCurrentCover","bookID","openModal","defaultCover","request","findCover","parseDescription","bookDetails","vendor","classList","add","remove","details","CreateCards","map","login","credentials","Login","Notification","LoginModal","email","setEmail","username","setUsername","password","setPassword","modalType","setToken","setUser","passCheck","setPassCheck","errorMessage","setErrorMessage","displayMessage","length","setTimeout","handleRegister","e","preventDefault","handleLogin","error","event","loginService","localStorage","setItem","JSON","stringify","onSubmit","type","name","color","setModalType","removeItem","App","loginProps","useEffect","loggedUserJSON","getItem","parse","decodedToken","jwt_decode","currentDate","Date","exp","getTime","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3ccaf847.chunk.js","sourcesContent":["import React from 'react'\nimport './Welcome.css'\n\nfunction Welcome() {\n    return (\n        <div className='welcome'>\n            <div>\n                <p>Welcome to Booknook!</p>\n                <p>Get unique book recommendations for dozens of subjects</p>\n            </div>\n            <div className='get-started'>\n                <p>Getting Started:</p>\n                <ul>\n                    <li>Type or scroll through the subjects list</li>\n                    <li>Click 'Find Books' to get results</li>\n                    <li>Click 'More Info' to see a book description, shopping link, and save options</li>\n                </ul>\n            </div>\n            <div>\n                Register an account to save a book for later. While logged in, click 'Saved Books' to view/delete the user's saved selections.\n            </div>\n  \n        </div>\n    )\n}\n\nexport default Welcome\n","import React from 'react'\nimport './SearchControls.css'\nimport Select from 'react-select'\n\nfunction SearchBar({options, handleChange}) {\n    return (\n        <Select \n            className=\"search-bar\"\n            menuPortalTarget={document.body}\n            options={options} \n            onChange={handleChange}\n        />\n    )\n}\n\nexport default SearchBar","import React from \"react\";\n\nfunction Button ({message, className, onClick}) {\n    return <button className={className} onClick={onClick}>\n        {message}\n    </button>\n}\n\nexport default Button","export const subjects = {\n    'Fantasy': 12442,\n    'Science Fiction':15253,\n    'Action & Adventure': 1650,\n    'Mystery':4785,\n    'Horror': 1775,\n    'Thriller': 2059,\n    'Historical Fiction':6844,\n    'Romance':19733,\n    'Magic':13930,\n    'Graphic Novels': 9748,\n    'Short Story': 1507,\n    'Juvenile': 2369,\n    'Autobiography':2983,\n    'Biography':622100,\n    'Cooking': 24697,\n    'Art':65208,\n    'Self-help':3799,\n    'History': 1639606,\n    'True Crime': 1138,\n    'Humor': 20240,\n    'Essays': 3603,\n    'Humanities':3560,\n    'Parenting': 8174,\n    'Science': 68592\n}","import React, { useState } from 'react'\nimport './SearchControls.css'\nimport SearchBar from './SearchBar'\nimport Button from './Button'\nimport axios from 'axios'\nimport {subjects} from '../assets/subjects'\n\nfunction SearchControls({setResults,user}) {\n    const baseURL = '/api/books'\n    const [selectedOption,setSelectedOption] = useState(null)\n\n    // Creates a pair containing: a url friendly version, and a human friendly version\n    const options = []\n    Object.keys(subjects).forEach(subject => {\n        options.push({value: subject.toLocaleLowerCase().replaceAll(' ', '_'), label: subject})\n    })\n\n    const handleChange = (option) => {\n        setSelectedOption(option)\n    }\n\n    const handleSearch = async() => {\n        if (!selectedOption) return null\n        let response = await axios.get(baseURL, \n            {params: {\n                subject: selectedOption.value, \n                amount: subjects[selectedOption.label]\n            }})\n        setResults(response.data)  \n    }\n\n    const handleSaved = async () => {\n        let response = await axios.get(`/api/users/${user.id}`, {params:{id: user.id}})\n        if (response) {setResults(response.data)}\n    }\n    \n    return (\n    <div className=\"search\">\n        <div className=\"search-bar-title\">\n            <h2>Select a Subject:</h2>\n            <SearchBar options={options} handleChange={handleChange} />\n        </div>\n\n        <Button className=\"search-button\" onClick={handleSearch} message=\"Find Books\"/>\n        {user? <Button className=\"search-button find-books\" message=\"Saved Books\" onClick={handleSaved}/>:null}\n    </div>\n    )\n}\n\nexport default SearchControls\n","import React from 'react'\nimport './BookDescription.css'\nimport TextareaAutosize from 'react-autosize-textarea';\n\n\nfunction BookDescription({description}) {\n    return (\n        <div className='desc'>\n            <div className=\"description__heading\"><h4>Description:</h4></div>\n\n            <div style={{display:'table'}}>\n                { description? \n                <div style={{display: 'table-cell', verticalAlign: 'middle'}}>\n                    <TextareaAutosize style={{'maxHeight': '1000px'}} className=\"description\" rows={2} maxRows={15} readOnly value={description}/>\n                </div>\n                : \n                <>\n                    <div className=\"skeleton skeleton-text\"></div>\n                    <div className=\"skeleton skeleton-text\"></div>\n                    <div className=\"skeleton skeleton-text\"></div>\n                    <div className=\"skeleton skeleton-text\"></div>\n                </>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default BookDescription\n","import React from 'react'\nimport Button from './Button'\nimport './Modal.css'\nimport BookDescription from './BookDescription'\nimport axios from 'axios'\n\nfunction Modal({open, close, props}) {\n    if (!open) return null\n    const {title, author, cover, link, description, key, token, isSaved, id, results, setResults} = props\n   \n    const saveBook = async () => {\n        try{\n            await axios.post('/api/saved', {title, author, cover, link, description, key}, config)\n        } catch (error) {\n            console.log(error)\n        }\n    }\n    \n    const deleteBook = async () => {\n        const confirm = window.confirm('Delete this entry?')\n        if (!confirm) return\n        await axios.delete(`/api/saved/${id}`, config)\n        setResults(results.filter(result=> result.id !== id))\n    }\n\n    const parseToken = () => {\n        if (!token) return null\n        else if (!token.token) return token\n        else return token.token\n\n    }\n    const config = {\n        headers: {Authorization: `bearer ${parseToken()}`}\n    }\n    const userButton = () => {\n        if (!description || !token) return null\n        if (isSaved) return <Button className='shop-link' onClick={()=>deleteBook()} message=\"Delete\" />\n        return <Button className='shop-link' onClick={()=>saveBook()} message=\"Save\" />\n    }\n\n    return (\n        <>\n            <div className=\"overlay\" onClick={close}></div>\n\n            <div className='modal'>\n                \n                <div className=\"cover\">\n                    <img src={cover} alt=\"book cover\" className='cover__full' />\n                </div>\n\n                <div className=\"info\">\n\n                    <div className=\"heading\">\n                        <h2 className=\"card__title modal__title\">{title}</h2> \n                        <h3 className=\"card__author modal__author\">{author}</h3>   \n                    </div>\n\n                    <div className=\"modal-body\">\n                        <BookDescription description={description}/>\n                    </div>\n\n                    <div>\n                        {link?\n                            <a className='shop-link' title={link} href={link} target=\"_blank\" rel=\"no noreferrer\">\n                                {'Purchase'}\n                            </a>\n                        :null\n                        }\n                        {userButton()}\n                        {/* {isSaved?\n                            <button className='delete shop-link' onClick={()=>deleteBook()}>Delete</button>\n                        :\n                            <button className='save shop-link' onClick={()=>saveBook()}>Save</button>\n                        } */}\n                    </div>\n\n                    <Button className=\"close-modal\" onClick={close} message=\"&times;\" />\n        \n                </div>\n\n            </div>\n        </>\n    )\n}\n\nexport default Modal\n","export default __webpack_public_path__ + \"static/media/default_book_cover.eca8f2f5.jpeg\";","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Button from \"./Button\";\nimport Modal from \"./Modal\";\nimport './Card.css'\nimport defaultCover from '../assets/default_book_cover.jpeg'\n\n\nfunction Card({result, results, setResults, token}){\n    const {cover, title, author, description, link, id} = result\n    const [isOpen, setIsOpen] = useState(false)\n    const [ModalProps, setModalProps] = useState({})\n    const [currentCover, setCurrentCover] = useState(cover)\n    let bookID = result.key\n\n    \n    const openModal = async () => {\n        setModalProps({\n            author:author,\n            title:title,\n            description: description? description:null,\n            link: link? link:null,\n            cover: cover? cover:defaultCover,\n            token:token,\n            id:id,\n            results:results,\n            setResults:setResults,\n            key:bookID,\n            isSaved: description? true: false\n        })\n        setIsOpen(true)\n        if (description) return\n        let request = await axios.get('/api/book', \n            {params: {\n                id: bookID, \n                title:title, \n                author:author\n            }})\n        let findCover = () => {\n            if (cover) {return cover}\n            else if (request.data.cover) {\n                setCurrentCover(request.data.cover)\n                return request.data.cover\n            }\n            else {return defaultCover}\n        }\n        setModalProps({\n            author:author,\n            title:title,\n            cover: findCover(),\n            description: parseDescription(request.data.bookDetails),\n            link: request.data.vendor,\n            token:token,\n            id:id,\n            results:results,\n            setResults:setResults,\n            key:bookID,\n            isSaved: false\n        })\n    }\n\n    if (isOpen) {\n        document.body.classList.add('active-modal')\n    } else {\n        document.body.classList.remove('active-modal')\n    }\n    \n    const parseDescription = (details) => {\n        if (!details.description) {return \"No Description Found\"}\n        else if (details.description.value) {return details.description.value}\n        else {return details.description}\n    }\n\n    return(\n        <div className=\"card\">\n            <div className=\"card__img-bg\">\n                <img src={currentCover?currentCover:defaultCover} alt=\"Cover for the book\" className=\"card__img\" />\n            </div>\n            <div className=\"card__body\">\n                <h2 className=\"card__title\">{title}</h2>\n                <h3 className=\"card__author\">{author}</h3>\n            </div>\n\n            <Button onClick={openModal} className=\"card__button\" message=\"More Info\" />\n            <Modal props={ModalProps} open={isOpen} close={() => setIsOpen(false)} />\n        </div>\n    )\n}\n\nexport default Card","import React from 'react'\nimport Card from './Card'\n\n\nfunction CreateCards({results, setResults, token}) {\n    return (\n        <div className='wrapper'>\n            {results.map(result => \n            <Card\n                key={result.key}\n                result={result}\n                results={results}\n                setResults={setResults}\n                token={token}\n            />)}\n        </div>\n    )\n}\n\nexport default CreateCards\n","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\nconst Login = { login }\nexport default Login","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className='error'>\n        {message}\n      </div>\n    )\n}\n\nexport default Notification\n","import React, { useState } from 'react'\nimport Button from './Button'\nimport './Modal.css'\nimport axios from 'axios'\nimport loginService from '../services/login' \nimport Notification from './Notification'\n\n\nfunction LoginModal({open, close, props}) {\n    const {email, setEmail, username, setUsername, password, setPassword, modalType, setToken, setUser} = props\n    const [passCheck, setPassCheck] = useState('')\n    const [errorMessage, setErrorMessage] = useState(null)\n    if (!open) return null\n\n    const displayMessage = (message, length=5000) => {\n        setErrorMessage(\n            `${message}`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, length)      \n    }\n    \n    const handleRegister = async (e) => {\n        e.preventDefault()\n        if (password !== passCheck) { displayMessage('Passwords do not match') }\n        else {\n            try {\n                await axios.post('/api/users', {email, username, password})\n                await handleLogin()\n            } catch (error) {\n                displayMessage(error.response.data.error)\n            }\n        }\n    }\n\n    const handleLogin = async (event=null) => {\n        event? event.preventDefault(): event=null;\n        try {\n            const credentials = await loginService.login({\n              email, password,\n            })\n        \n            window.localStorage.setItem(\n                'loggedBookappUser', JSON.stringify(credentials)\n              ) \n            setToken(credentials)\n            setUser(credentials)\n            setEmail('')\n            setPassword('')\n            setUsername('')\n          } catch (exception) {\n            displayMessage('Invalid Login Credentials');\n          }\n        console.log('logging in to', email)\n    }  \n\n    const modalClose = () => {\n        setEmail('')\n        setPassword('')\n        setUsername('')\n        setPassCheck('')\n        setErrorMessage(null)\n        close()\n    }\n    return (\n        <>\n            <div className=\"overlay\" onClick={modalClose}></div>\n\n            <div className='modal' id='login-modal'>\n                <div className=\"info\">\n                    <div className=\"heading\">\n                        {modalType}\n                    </div>\n                    <div className='login-form'>\n                        <form onSubmit={modalType === 'Login'? handleLogin: handleRegister}>\n                            <div>\n                            Email\n                                <input\n                                    type=\"email\"\n                                    value={email}\n                                    name=\"email\"\n                                    onChange={({ target }) => setEmail(target.value)}\n                                />\n                            </div>\n                            {modalType === 'Register'?\n\n                                <div>\n                                Username\n                                    <input\n                                        type=\"text\"\n                                        value={username}\n                                        name=\"username\"\n                                        onChange={({ target }) => setUsername(target.value)}\n                                    />\n                                </div>\n\n                            :null}\n                            <div>\n                            Password\n                                <input\n                                type=\"password\"\n                                value={password}\n                                name=\"Password\"\n                                onChange={({ target }) => setPassword(target.value)}\n                            />\n                            </div>\n                            {modalType === 'Register'? \n                                <div>\n                                Re-enter Password\n                                    <input\n                                    type=\"password\"\n                                    value={passCheck}\n                                    name=\"Password\"\n                                    onChange={({ target }) => setPassCheck(target.value)}\n                                />\n                                </div>\n                            \n                            :null}\n                            <div className=\"errorMsg\">\n                                <Notification message={errorMessage} style={{color:'green'}} />\n                            </div>\n                            <button id='login-modal-btn' className='login-btns' type=\"submit\">{modalType}</button>\n                        </form>\n                    </div>       \n                </div>\n                <Button className=\"close-modal\" onClick={close} message=\"&times;\" />\n                </div>\n        </>\n)            \n}\n\nexport default LoginModal\n","import React, { useState } from 'react'\nimport Button from './Button'\nimport LoginModal from './LoginModal'\n\nfunction Login({props}) {\n    const {setEmail, setPassword, setUser, setToken, setResults, user} = props\n    const [isOpen, setIsOpen] = useState(false)\n    const [modalType, setModalType] = useState(null)\n\n    const handleLogout = () => {\n        setEmail('')\n        setPassword('')\n        setUser(null)\n        setToken(null)\n        setResults(null)\n        window.localStorage.removeItem('loggedBookappUser')\n        setIsOpen(false)\n      }\n    \n    props.modalType = modalType\n\n    const loginClick = () => {\n        setModalType('Login')\n        setIsOpen(true)\n    }\n\n    const registerClick = () => {\n        setModalType('Register')\n        setIsOpen(true)\n    }\n    return (\n        <div className=\"user-info\">\n            <h3 className=\"login-status\">{user? `Welcome, ${user.username}`: 'Not Logged In'}</h3>\n            { user?\n                <Button className=\"login-btns\" message=\"Sign Out\" onClick={()=>handleLogout()}/> \n            : <>\n                <Button className=\"login-btns\" message=\"Sign In\" onClick={loginClick} />\n                <Button className=\"login-btns\" message=\"Register\" onClick={registerClick} />\n                <LoginModal open={isOpen} close={()=>setIsOpen(false)} props={props} />\n            </>\n            }\n      </div>\n    )\n}\n\nexport default Login\n","import React, { useState, useEffect } from 'react'\nimport './App.css';\nimport Welcome from './components/Welcome';\nimport SearchControls from './components/SearchControls';\nimport CreateCards from './components/CreateCards';\nimport Login from './components/Login';\nimport jwt_decode from \"jwt-decode\";\n\n\n\nfunction App() {\n    const [results, setResults] = useState(null)\n    const [email, setEmail] = useState('') \n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [user, setUser] = useState(null)\n    const [token, setToken] = useState(null)\n    \n    // TRY TO MOVE THIS TO LOGIN COMPONENT\n    const loginProps = {email, setEmail, username, setUsername, password, setPassword, setUser, setToken, user, setResults}\n\n    useEffect(() => {\n        const loggedUserJSON = window.localStorage.getItem('loggedBookappUser')\n        \n        if (!loggedUserJSON) return null\n        \n        const user = JSON.parse(loggedUserJSON)\n        \n        let decodedToken = jwt_decode(user.token);\n        let currentDate = new Date();\n        // Checks that token is still valid \n        if (decodedToken.exp * 1000 > currentDate.getTime()) {\n            setUser(user)\n            setToken(user.token)\n        }\n    }, [])\n \n    return <div id='app'>\n        <Login props={loginProps} />\n        <div className=\"intro\">\n            <h1 className=\"title\">Booknook</h1>\n            <SearchControls setResults={setResults} user={user} />    \n        </div>\n\n        {/* Search results displayed as cards, instructions displayed if no subject has been searched yet */}\n        {results?\n        <CreateCards token={token} results={results} setResults={setResults} />\n        : \n        <Welcome/>}\n    </div>\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <div>\n      <App />\n    </div>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}